(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e){e.exports={a:"https://www.omdbapi.com/?apikey=874f1f59&"}},46:function(e,t,a){e.exports=a(91)},51:function(e,t,a){},78:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getfilmsAPI",function(){return A}),a.d(n,"getFilm",function(){return T}),a.d(n,"searchfilms",function(){return M});var r=a(0),l=a.n(r),c=a(37),o=a.n(c),s=a(93),i=(a(51),a(7)),u=a(8),m=a(9),p=a(12),d=a(10),f=a(13),h=a(95),v=a(80),b=a(92),E=a(6),g=a(11),N=a(39),x=function(e){return e.films},O=function(e){return e.film},y=function(e){return e.searchedValue},F=function(e){return e.loaded},j=function(e){return e.totalResults},w=function(e){return e.currentPage},I=Object(N.a)(x,y,function(e,t){return e.filter(function(e){return e.Title.toLowerCase().includes(t.toLowerCase())})}),C=a(14),P=a.n(C),k=a(25),R=a(26),_=a.n(R),S=a(27),A=function(e,t){return function(){var a=Object(k.a)(P.a.mark(function a(n){var r,l;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=S.a+"s="+e+"&page="+t,a.next=3,_.a.get(r);case 3:if("True"!==(l=a.sent).data.Response){a.next=8;break}n({type:"FETCH_NEW_FILM_SUCCESS",payload:{films:l.data,page:t}}),a.next=9;break;case 8:return a.abrupt("return",n({type:"FETCH_NEW_FILM_ERROR"}));case 9:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(k.a)(P.a.mark(function t(a){var n,r;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),n=S.a+"i="+e.slice(2),t.next=4,_.a.get(n);case 4:if("True"!==(r=t.sent).data.Response){t.next=9;break}a({type:"GET_FILM",payload:r.data}),t.next=10;break;case 9:return t.abrupt("return",a({type:"GET_FILM_ERROR"}));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},M=function(e){return{type:"SEARCH_FILM",value:e}},B=a(94),L=(a(78),a(82),function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"blob blob-0"}),l.a.createElement("div",{className:"blob blob-1"}),l.a.createElement("div",{className:"blob blob-2"}),l.a.createElement("div",{className:"blob blob-3"}),l.a.createElement("div",{className:"blob blob-4"}),l.a.createElement("div",{className:"blob blob-5"}))}),V=(a(84),a(18)),D=a.n(V),W=D()(),H=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=W.location;e&&e.search&&this.props.onInputChange(e.search.slice(3))}},{key:"render",value:function(){var e=null,t=null,a=this.props,n=a.currentPage,c=a.value,o=a.films,s=a.onInputChange,i=(a.loaded,a.total),u=a.handleNext5,m=a.next,p=a.handlePrev5,d=(i/5).toFixed(0);return m?(t=2*n,e=o.slice(5)):(t=2*n-1,e=o.slice(0,5)),console.log("value",c),l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"search-box"},l.a.createElement("div",null,"Top ",e.length," yours films, total: ",i),l.a.createElement("div",{className:"search-item"},l.a.createElement("input",{type:"text",placeholder:"search film ...",value:c,onChange:function(e){var t=e.target;return s(t.value)}}))),l.a.createElement("div",{className:"filmList"},o.length?e.map(function(e,t){return l.a.createElement(B.a,{key:t,to:"/:".concat(e.imdbID)},l.a.createElement("div",{className:"filmItem"},"N/A"===e.Poster?null:l.a.createElement("img",{className:"filmImg",style:{maxWidth:300},height:"350px",src:e.Poster,alt:"film-pic"}),l.a.createElement("p",null,e.Title+"/"+e.Year)))}):l.a.createElement("div",null,l.a.createElement("h2",null,"waiting for update"),l.a.createElement(L,null))),l.a.createElement("div",{className:"paginationContainer"},l.a.createElement("nav",{className:"pagination",role:"navigation"},l.a.createElement("div",{onClick:function(){return p()},className:"prev stepBtn",href:"#"},"Prev"),t>1?l.a.createElement("div",{onClick:function(){return p()},className:"stepBtn"},t-1):null,l.a.createElement("div",{className:"stepBtn active"},t),i>5?l.a.createElement("div",{onClick:function(){return u()},className:"stepBtn"},t+1):null,i>20?l.a.createElement("div",{className:"stepBtn"},"..."):null,i>5?l.a.createElement("div",{className:"stepBtn"},d):null,l.a.createElement("div",{onClick:function(){return u()},className:"next stepBtn"},"Next")))))}}]),t}(r.Component),G=(a(89),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.match&&this.props.getFilm(this.props.match.url)}},{key:"render",value:function(){var e=this.props.film;return console.log("filmMovieItem",e),l.a.createElement("div",{className:"movieContainer"},l.a.createElement("div",{className:"example-2 card"},l.a.createElement("div",{className:"wrapper",style:{background:"url(".concat(e.Poster,") center no-repeat")}},l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"date"},l.a.createElement(B.a,{exact:!0,to:"/"},l.a.createElement("div",{className:"backBtn"},"Back to home")),l.a.createElement("span",null,"Box office: ",e.BoxOffice),l.a.createElement("span",null,e.DVD),l.a.createElement("span",null,"star:",e.imdbRating))),l.a.createElement("div",{className:"data"},l.a.createElement("div",{className:"content"},l.a.createElement("h1",{className:"title"},e.Type,": ",e.Title),l.a.createElement("p",null,e.Actors),l.a.createElement("p",null,e.Plot),l.a.createElement("a",{href:e.Website,target:"_blank",className:"button"},"Read more"))))))}}]),t}(r.Component));var U=Object(b.a)(Object(g.b)(function(e){return{film:O(e)}},function(e){return Object(i.a)({},Object(E.bindActionCreators)(n,e))})(G)),J=D()(),q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={next5:!1},a.handleSearchFilm=function(e){a.props.searchfilms(e)},a.handleNext5Films=function(){a.state.next5?(a.props.getfilmsAPI(a.props.searchValue,a.props.currentPage+1),a.setState({next5:!1})):a.setState({next5:!a.state.next5})},a.handlePrev5Films=function(){a.state.next5?a.setState({next5:!a.state.next5}):a.props.currentPage>1&&(a.props.getfilmsAPI(a.props.searchValue,a.props.currentPage-1),a.setState({next5:!0}))},a.handleAddNewFilm=function(){a.props.getfilmsAPI(a.props.searchValue)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="";this.timerID=setInterval(function(){e.props.searchValue.length>2&&t!==e.props.searchValue&&(t=e.props.searchValue,console.log("INSIDE2"),e.props.getfilmsAPI(e.props.searchValue,e.props.currentPage))},4e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e=this,t=this.props,a=t.loaded,n=t.searchValue,r=t.searchedfilms,c=t.totalResults,o=t.currentPage;return l.a.createElement("div",null,l.a.createElement(h.a,null,l.a.createElement(v.a,{exact:!0,path:"/",render:function(){return l.a.createElement(H,{loaded:a,films:r,value:n,next:e.state.next5,total:c,currentPage:o,handleNext5:e.handleNext5Films,handlePrev5:e.handlePrev5Films,onInputChange:e.handleSearchFilm,onAddNewFilm:e.handleAddNewFilm})}}),l.a.createElement(v.a,{path:"/::id",component:U}),l.a.createElement(v.a,{history:J,path:"/?q=::id",component:function(){return l.a.createElement(H,{loaded:a,films:r,value:n,next:e.state.next5,total:c,currentPage:o,handleNext5:e.handleNext5Films,handlePrev5:e.handlePrev5Films,onInputChange:e.handleSearchFilm,onAddNewFilm:e.handleAddNewFilm})}})))}}]),t}(r.Component);var Y=Object(b.a)(Object(g.b)(function(e){return{loaded:F(e),films:x(e),searchValue:y(e),totalResults:j(e),searchedfilms:I(e),currentPage:w(e)}},function(e){return Object(i.a)({},Object(E.bindActionCreators)(n,e))})(q));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(42),z=a(43),K={films:[],film:{},searchedValue:"",loaded:!0,errorNewFilm:!1,totalResults:0,currentPage:1},Q=Object(E.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_FILM":return Object(i.a)({},e,{searchedValue:t.value});case"FETCH_NEW_FILM_ERROR":return Object(i.a)({},e,{errorNewFilm:!e.errorNewFilm,totalResults:0});case"FETCH_NEW_FILM_SUCCESS":return console.log(t.payload),Object(i.a)({},e,{films:t.payload.films.Search,loaded:!0,totalResults:t.payload.films.totalResults,currentPage:t.payload.page});case"GET_FILM":return Object(i.a)({},e,{film:t.payload});case"GET_FILM_ERROR":return Object(i.a)({},e);default:return e}},Object($.composeWithDevTools)(Object(E.applyMiddleware)(z.a)));o.a.render(l.a.createElement(g.a,{store:Q},l.a.createElement(s.a,null,l.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,2,1]]]);
//# sourceMappingURL=main.84c12187.chunk.js.map